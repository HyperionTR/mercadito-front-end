"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6688],{6688:(v,c,t)=>{t.r(c),t.d(c,{LoginPageModule:()=>P});var m=t(177),u=t(4341),a=t(7863),d=t(8160),p=t(467),n=t(4438),h=t(3366),L=t(4796);const f=[{path:"",component:(()=>{var e;class g{constructor(o,i,r,s){this.apiService=o,this.router=i,this.authService=r,this.toastController=s}ngOnInit(){}onLogin(){var o=this;return(0,p.A)(function*(){const i=yield o.toastController.create({message:"Iniciando sesi\xf3n...",duration:2e3,position:"top"});o.apiService.login(o.username,o.password).subscribe(r=>{console.log("Respuesta de la API:",r),o.authService.setCurrentUser(r.body),o.authService.setLoggedIn(!0),o.router.navigate(["/"]),i.message="\xa1Sesi\xf3n iniciada!"},r=>{i.message="Error al iniciar sesi\xf3n, "+r.error}),i.present()})()}}return(e=g).\u0275fac=function(o){return new(o||e)(n.rXU(h.G),n.rXU(d.Ix),n.rXU(L.u),n.rXU(a.K_))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-login"]],decls:20,vars:2,consts:[["color","light",1,"ion-padding"],["size","large","name","arrow-back","routerLink","/"],["size","large"],[3,"ngSubmit"],["color","light",1,"ion-no-padding"],["position","stacked"],["type","text","name","username","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["color","dark","shape","round","expand","block","type","submit"],["name","arrow-forward"]],template:function(o,i){1&o&&(n.j41(0,"ion-content",0),n.nrm(1,"br")(2,"ion-icon",1)(3,"br"),n.j41(4,"h2",2)(5,"b"),n.EFF(6,"Iniciar sesi\xf3n"),n.k0s()(),n.j41(7,"form",3),n.bIt("ngSubmit",function(){return i.onLogin()}),n.j41(8,"ion-item",4)(9,"ion-label",5),n.EFF(10,"Boleta*"),n.k0s(),n.j41(11,"ion-input",6),n.mxI("ngModelChange",function(s){return n.DH7(i.username,s)||(i.username=s),s}),n.k0s()(),n.j41(12,"ion-item",4)(13,"ion-label",5),n.EFF(14,"Contrase\xf1a*"),n.k0s(),n.j41(15,"ion-input",7),n.mxI("ngModelChange",function(s){return n.DH7(i.password,s)||(i.password=s),s}),n.k0s()(),n.nrm(16,"br"),n.j41(17,"ion-button",8),n.EFF(18," Iniciar sesion \xa0"),n.nrm(19,"ion-icon",9),n.k0s()()()),2&o&&(n.R7$(11),n.R50("ngModel",i.username),n.R7$(4),n.R50("ngModel",i.password))},dependencies:[u.qT,u.BC,u.cb,u.YS,u.vS,u.cV,a.Jm,a.W9,a.iq,a.$w,a.uz,a.he,a.Gw,a.N7,d.Wk],styles:["ion-button[_ngcontent-%COMP%]{font-size:16px}"]}),g})()}];let M=(()=>{var e;class g{}return(e=g).\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[d.iI.forChild(f),d.iI]}),g})(),P=(()=>{var e;class g{}return(e=g).\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[m.MD,u.YN,a.bv,M]}),g})()}}]);