"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9007],{9007:(I,d,i)=>{i.r(d),i.d(d,{CartPageModule:()=>j});var l=i(177),g=i(4341),e=i(7863),u=i(8160),p=i(467),m=i(9243),t=i(4438),P=i(6868),h=i(3366);function f(r,c){1&r&&(t.j41(0,"div",8)(1,"p"),t.EFF(2,"Tu carrito esta vacio agrega productos"),t.k0s(),t.j41(3,"ion-button",9),t.EFF(4,"Productos"),t.k0s()())}function C(r,c){if(1&r){const a=t.RV6();t.j41(0,"ion-card",10)(1,"ion-item",11)(2,"ion-thumbnail",12),t.nrm(3,"img",13),t.k0s(),t.j41(4,"ion-icon",14),t.bIt("click",function(){const n=t.eBV(a).index,s=t.XpG();return t.Njj(s.removeProduct(n))}),t.k0s(),t.j41(5,"ion-note",15)(6,"p"),t.EFF(7),t.k0s(),t.j41(8,"b"),t.EFF(9),t.k0s()()()()}if(2&r){const a=c.$implicit;t.R7$(3),t.Y8G("src",a.imagen?"https://mercadito-app.azurewebsites.net/images/products/"+a.imagen:"https://via.placeholder.com/150",t.B4B),t.R7$(4),t.JRh(a.nombre),t.R7$(2),t.SpI("$",a.precio,"")}}function v(r,c){if(1&r){const a=t.RV6();t.j41(0,"ion-footer")(1,"ion-toolbar")(2,"ion-row")(3,"ion-col")(4,"p",16),t.EFF(5,"Total"),t.k0s(),t.j41(6,"p",17)(7,"b"),t.EFF(8),t.nI1(9,"number"),t.k0s()()(),t.j41(10,"ion-col",18)(11,"ion-button",19),t.bIt("click",function(){t.eBV(a);const n=t.XpG();return t.Njj(n.openDeliveryPage())}),t.EFF(12,"Continuar "),t.nrm(13,"i",20),t.k0s()()()()()}if(2&r){const a=t.XpG();t.R7$(8),t.SpI("$",t.i5U(9,1,a.total,"1.2-2"),"")}}const F=[{path:"",component:(()=>{var r;class c{constructor(o,n,s){this.cartService=o,this.modalController=n,this.apiService=s,this.cartProducts=[],this.total=0}ngOnInit(){this.loadCartProducts(),this.cartSubscription=this.cartService.getCartProducts().subscribe(o=>{this.cartProducts=o,this.calculateTotal()})}loadCartProducts(){const o=localStorage.getItem("cartProducts");o&&(this.cartProducts=JSON.parse(o),this.cartService.setCartProducts(this.cartProducts),this.calculateTotal())}calculateTotal(){this.total=this.cartProducts.reduce((o,n)=>o+n.precio,0)}removeProduct(o){this.cartProducts.splice(o,1),localStorage.setItem("cartProducts",JSON.stringify(this.cartProducts)),this.calculateTotal(),this.cartService.setCartProducts(this.cartProducts)}openDeliveryPage(){var o=this;return(0,p.A)(function*(){const n=yield o.modalController.create({component:m.W,componentProps:{cartProducts:o.cartProducts}});return n.onDidDismiss().then(s=>{null!==s&&console.log("Modal Sent Data :",s)}),yield n.present()})()}clearCart(){this.cartProducts=[],localStorage.removeItem("cartProducts"),this.cartService.setCartProducts(this.cartProducts),this.calculateTotal()}}return(r=c).\u0275fac=function(o){return new(o||r)(t.rXU(P.m),t.rXU(e.W3),t.rXU(h.G))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-cart"]],decls:13,vars:5,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["routerLink","/tabs/home",1,"fa-solid","fa-arrow-left"],["class","ion-text-center",4,"ngIf"],["class","ion-padding",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"ion-text-center"],["color","dark","shape","round","routerLink","/tabs/home"],[1,"ion-padding"],[1,"no-lines"],["slot","start"],["alt","Product Image",3,"src"],["color","danger","aria-hidden","true","name","trash","slot","end",3,"click"],["color","dark"],[2,"font-size","12px","margin-left","10px"],[2,"font-size","16px","margin-left","10px","margin-top","-10px"],[1,"ion-text-end"],["shape","round","color","dark",2,"margin-top","15px",3,"click"],[1,"fa-solid","fa-angle-right"]],template:function(o,n){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Mi carrito"),t.k0s()()(),t.j41(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),t.nrm(8,"i",4),t.EFF(9," Mi carrito"),t.k0s()()(),t.DNE(10,f,5,0,"div",5)(11,C,10,3,"ion-card",6),t.k0s(),t.DNE(12,v,14,4,"ion-footer",7)),2&o&&(t.Y8G("translucent",!0),t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(6),t.Y8G("ngIf",0===n.cartProducts.length),t.R7$(),t.Y8G("ngForOf",n.cartProducts),t.R7$(),t.Y8G("ngIf",n.cartProducts.length>0))},dependencies:[l.Sq,l.bT,e.Jm,e.b_,e.hU,e.W9,e.M0,e.eU,e.iq,e.uz,e.JI,e.ln,e.Zx,e.BC,e.ai,e.N7,u.Wk,l.QX]}),c})()}];let k=(()=>{var r;class c{}return(r=c).\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.$C({type:r}),r.\u0275inj=t.G2t({imports:[u.iI.forChild(F),u.iI]}),c})(),j=(()=>{var r;class c{}return(r=c).\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.$C({type:r}),r.\u0275inj=t.G2t({imports:[l.MD,g.YN,e.bv,k]}),c})()}}]);