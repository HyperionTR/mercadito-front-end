{"version":3,"file":"default-src_app_pages_delivery_delivery_page_ts.js","mappings":"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","sources":["./src/app/pages/delivery/delivery.page.ts","./src/app/pages/delivery/delivery.page.html","./src/app/services/api.service.ts","./src/app/services/cart.service.ts"],"sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\r\nimport { Component, Input, OnInit } from '@angular/core';\r\nimport { ModalController, ToastController } from '@ionic/angular';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { Router } from '@angular/router';\r\nimport { CartService } from '../../services/cart.service';\r\n\r\n@Component({\r\n  selector: 'app-delivery',\r\n  templateUrl: './delivery.page.html',\r\n  styleUrls: ['./delivery.page.scss'],\r\n})\r\nexport class DeliveryPage implements OnInit {\r\n  @Input() cartProducts: any[] = []; // Recibe los productos del carrito\r\n\r\n  selectedLocation: string = 'Palapas de gobierno'; // Valor por defecto\r\n  otherLocation: string = '';\r\n\r\n  constructor(\r\n    private modalController: ModalController,\r\n    private apiService: ApiService,\r\n    private toastController: ToastController,\r\n    private router: Router,\r\n    private cartService: CartService\r\n  ) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  onLocationChange() {\r\n    if (this.selectedLocation !== 'Otro') {\r\n      this.otherLocation = ''; // Limpia el campo \"Otro\" si se selecciona otra opción\r\n    }\r\n  }\r\n\r\n  async confirmDelivery() {\r\n    const lugarEntrega = this.selectedLocation === 'Otro' ? this.otherLocation : this.selectedLocation;\r\n\r\n    const orderData = {\r\n      info: {\r\n        lugar_entrega: lugarEntrega\r\n      },\r\n      detalles: this.cartProducts.map(product => ({\r\n        boleta_vendedor: product.boleta_vendedor,\r\n        id_producto: product.id_producto\r\n      }))\r\n    };\r\n\r\n    this.apiService.createOrder(orderData).subscribe(\r\n      async (response) => {\r\n        console.log('Pedido creado:', response);\r\n        const toast = await this.toastController.create({\r\n          message: response,\r\n          duration: 2000,\r\n          position: 'top'\r\n        });\r\n        toast.present();\r\n        this.modalController.dismiss(); // Cierra el modal después de crear el pedido\r\n      },\r\n      async (error: HttpErrorResponse) => {\r\n        console.error('Error al crear el pedido:', error);\r\n        \r\n        if( error.status === 401) {\r\n          this.router.navigate(['/login']);\r\n        }\r\n\r\n        const toast = await this.toastController.create({\r\n          message: error.error,\r\n          duration: 2000,\r\n          position: 'top'\r\n        });\r\n        toast.present();\r\n      }\r\n    );\r\n\r\n    // Usamos el servicio de carrito para limpiarlo\r\n    this.cartService.clearCart();\r\n\r\n  }\r\n\r\n  closeModal() {\r\n    this.modalController.dismiss();\r\n  }\r\n}\r\n","<ion-header [translucent]=\"true\">\r\n  <ion-toolbar>\r\n    <ion-title>Entrega</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content [fullscreen]=\"true\">\r\n  <ion-header collapse=\"condense\">\r\n    <ion-toolbar>\r\n      <ion-title size=\"large\">Entrega</ion-title>\r\n    </ion-toolbar>\r\n  </ion-header>\r\n\r\n  <ion-list>\r\n    <ion-item>\r\n      <ion-label>Lugar de entrega:</ion-label>\r\n      <ion-select [(ngModel)]=\"selectedLocation\" (ionChange)=\"onLocationChange()\">\r\n        <ion-select-option value=\"Palapas de gobierno\">Palapas de gobierno</ion-select-option>\r\n        <ion-select-option value=\"Asta bandera / Letras\">Asta bandera / Letras</ion-select-option>\r\n        <ion-select-option value=\"Barra de café\">Barra de café</ion-select-option>\r\n        <ion-select-option value=\"Papelería\">Papelería</ion-select-option>\r\n        <ion-select-option value=\"Palapas de IA\">Palapas de IA</ion-select-option>\r\n        <ion-select-option value=\"Cafetería\">Cafetería</ion-select-option>\r\n        <ion-select-option value=\"Laboratorios planta baja\">Laboratorios planta baja</ion-select-option>\r\n        <ion-select-option value=\"Otro\">Otro</ion-select-option>\r\n      </ion-select>\r\n    </ion-item>\r\n\r\n    <ion-item *ngIf=\"selectedLocation === 'Otro'\">\r\n      <ion-label position=\"floating\">Ingresa el lugar de entrega:</ion-label>\r\n      <ion-input [(ngModel)]=\"otherLocation\"></ion-input>\r\n    </ion-item>\r\n  </ion-list>\r\n\r\n  <div class=\"ion-text-center\">\r\n    <ion-button color=\"dark\" shape=\"round\" (click)=\"confirmDelivery()\">Confirmar</ion-button>\r\n    <ion-button color=\"dark\" shape=\"round\" (click)=\"closeModal()\">Cancelar</ion-button>\r\n  </div>\r\n\r\n</ion-content>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpResponse, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { Observable, of, throwError } from 'rxjs';\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { Order, Product } from '../components/order-card/order-card.component';\r\nimport { Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ApiService {\r\n\r\n  private api = environment.api;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private toastController: ToastController,\r\n    private router:Router\r\n  ) { }\r\n\r\n  private getHeaders(): HttpHeaders {\r\n    const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');\r\n    const token = currentUser && currentUser.token ? currentUser.token : ''; // Obtiene el token de localStorage\r\n\r\n    return new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}` // Incluye el token en el encabezado Authorization\r\n    });\r\n  }\r\n\r\n  login(username: string, password: string): Observable<any> {\r\n    const url = this.api + '/login';\r\n    const body = { boleta: username, password: password };\r\n    return this.http.post(url, body, { observe: 'response', withCredentials: true }) // Observa la respuesta completa\r\n      .pipe(\r\n        map((response: HttpResponse<any>) => response.body),\r\n        catchError(async error => {\r\n          console.error('Error en el inicio de sesión:', error);\r\n\r\n          // Muestra el mensaje de error en un toast\r\n          const toast = await this.toastController.create({\r\n            message: error.error,\r\n            duration: 2000,\r\n            position: 'top'\r\n          });\r\n          toast.present()\r\n\r\n          return throwError(() => new Error(error)); // Propaga el error para manejarlo en el componente\r\n        })\r\n      );\r\n  }\r\n\r\n  logout(): Observable<string> {\r\n    const url = this.api + '/login'; // Endpoint de cierre de sesión\r\n    return this.http.delete(url, { headers: this.getHeaders(), observe: 'response', responseType: 'text', withCredentials: true})\r\n      .pipe(\r\n        map((response: HttpResponse<string>) => {\r\n          return response.body || '';\r\n        })\r\n      );\r\n  }\r\n\r\n  verifySession(): Observable<any> {\r\n    const url = this.api + '/login/verify';\r\n    return this.http.get(url, { withCredentials: true }) // withCredentials: true para enviar cookies\r\n      .pipe(\r\n        map((response: any) => response),\r\n        catchError(error => {\r\n          if (error.status === 401) {\r\n            // Si no está autenticado, redirigir a la página de inicio de sesión\r\n            this.router.navigate(['/login']); // Redirige al login en caso de error 401\r\n            return of(null);\r\n          } else {\r\n            console.error('Error al verificar la sesión:', error);\r\n            return throwError(() => new Error(error));\r\n          }\r\n        })\r\n      );\r\n  }\r\n\r\n  products(): Observable<any>{\r\n    const url = this.api + '/products/data';\r\n    return this.http.get(url);\r\n  }\r\n\r\n  getProducts(page: number): Observable<any[]> { // Método para obtener productos sin búsqueda\r\n    const params = new HttpParams().set('page', page.toString());\r\n    const url = this.api + '/products/data';\r\n    return this.http.get<any[]>(url, { params });\r\n  }\r\n\r\n  searchProducts(page: number, query: string): Observable<any[]> { // Método para buscar productos\r\n    const params = new HttpParams().set('page', page.toString()).set('query', query);\r\n    const url = this.api + '/products/search';\r\n    return this.http.get<any[]>(url, { params });\r\n  }\r\n\r\n  \r\n  productDetails(id: string): Observable<any>{\r\n    const url = this.api + '/products/data/' + id;\r\n    return this.http.get(url);\r\n  }\r\n\r\n  register(jsonData: any): Observable<string> {\r\n    const url = this.api + '/verify/registration';\r\n    return this.http.post(url, jsonData, { headers: this.getHeaders(), observe: 'response', responseType: 'text' }) // Incluye los encabezados\r\n      .pipe(\r\n        map((response: HttpResponse<string>) => {\r\n          return response.body || '';\r\n        })\r\n      );\r\n  }\r\n\r\n  createOrder(orderData: any): Observable<string> {\r\n    const url = this.api + '/pedidos';\r\n    return this.http.post(url, orderData, { headers: this.getHeaders(), observe: 'response', responseType: 'text', withCredentials: true }) // Incluye los encabezados\r\n      .pipe(\r\n        map((response: HttpResponse<string>) => {\r\n          return response.body || '';\r\n        })\r\n      );\r\n  }\r\n\r\n  getOrders(): Observable<Order[]> {\r\n    const url = this.api + '/pedidos';\r\n    return this.http.get<Order[]>(url, { withCredentials: true }); \r\n  }\r\n\r\n  getSales(): Observable<Order[]> {\r\n    const url = this.api + '/pedidos/sales';\r\n    return this.http.get<Order[]>(url, { withCredentials: true });\r\n  }\r\n\r\n  getInventory(): Observable<any[]> {\r\n    const url = this.api + '/products/seller/data';\r\n    return this.http.get<Product[]>(url, { withCredentials: true });\r\n  }\r\n\r\n  updateOrderStatus(orderId: string, productId: number, newStatus: string): Observable<string> {\r\n    const url = this.api + `/pedidos/${orderId}`; // URL con el ID del pedido\r\n    const body = { estado: newStatus, id_producto: productId }; // Datos en formato JSON\r\n\r\n    return this.http.patch(url, body, { headers: this.getHeaders(), observe: 'response', responseType: 'text', withCredentials: true })\r\n      .pipe(\r\n        map((response: HttpResponse<string>) => {\r\n          return response.body || '';\r\n        })\r\n      );\r\n  }\r\n\r\n  updateProduct(productId: number, formData: FormData): Observable<any> {\r\n    const url = this.api + `/products/seller/data/${productId}`;\r\n    return this.http.patch(url, formData, { observe: 'response', responseType: 'text', withCredentials: true })\r\n      .pipe(\r\n        map((response: HttpResponse<string>) => {\r\n          return response.body || '';\r\n        })\r\n      );\r\n  }\r\n\r\n  createProduct(formData: FormData): Observable<any> {\r\n    const url = this.api + `/products/seller`;\r\n    return this.http.post(url, formData, { observe: 'response', responseType: 'text', withCredentials: true })\r\n      .pipe(\r\n        map((response: HttpResponse<string>) => {\r\n          return response.body || '';\r\n        })\r\n      );\r\n  }\r\n\r\n  deleteProduct(productId: number): Observable<any> {\r\n    const url = this.api + `/products/seller/${productId}`;\r\n    return this.http.delete(url, { headers: this.getHeaders(), observe: 'response', responseType: 'text', withCredentials: true})\r\n      .pipe(\r\n        map((response: HttpResponse<string>) => {\r\n          return response.body || '';\r\n        })\r\n      );\r\n  }\r\n\r\n  updateProductAvailability(productId: number, availability: boolean): Observable<any> {\r\n    const url = this.api + `/products/seller/avail/${productId}`;\r\n    return this.http.patch(url, { disponibilidad: availability }, { headers: this.getHeaders(), observe: 'response', responseType: 'text', withCredentials: true})\r\n      .pipe(\r\n        map((response: HttpResponse<string>) => {\r\n          return response.body || '';\r\n        })\r\n      );\r\n  }\r\n\r\n  getProductImage(image: string | null, placeholder: boolean): string {\r\n    const backend_url = this.api + `/images/products/${image}`;\r\n    const generic_url_seed ='https://picsum.photos/seed';\r\n    const generic_url = 'https://picsum.photos/256'\r\n\r\n    if (image && !placeholder) {\r\n      return backend_url;\r\n    } else if (placeholder) {\r\n      return `${generic_url_seed}/${image}/256`;\r\n    } else {\r\n      return generic_url;\r\n    }\r\n\r\n  }\r\n\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CartService {\r\n  private cartStatus = new BehaviorSubject<boolean>(false);\r\n  private cartProducts = new BehaviorSubject<any[]>([]);\r\n\r\n  constructor() {}\r\n\r\n  // Método para obtener el observable del estado de inicio de sesión\r\n  cartStatus$(): Observable<boolean> {\r\n    return this.cartStatus.asObservable();\r\n  }\r\n\r\n  // Método para obtener el observable del usuario actual\r\n  cartProducts$(): Observable<any> {\r\n    return this.cartProducts.asObservable();\r\n  }\r\n\r\n  // Método para establecer el estado de inicio de sesión\r\n  setCartStatus(value: boolean) {\r\n    this.cartStatus.next(value);\r\n  }\r\n\r\n  setCartProducts(products: any[]) {\r\n    this.cartProducts.next(products);\r\n  }\r\n\r\n  getCartProducts() {\r\n    return this.cartProducts.asObservable();\r\n  }\r\n\r\n  clearCart() {\r\n    this.cartProducts.next([]);\r\n    localStorage.removeItem('cartProducts');\r\n  }\r\n\r\n}\r\n"],"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtwoWayListener","DeliveryPage_ion_item_30_Template_ion_input_ngModelChange_3_listener","$event","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵtwoWayBindingSet","otherLocation","ɵɵresetView","ɵɵadvance","ɵɵtwoWayProperty","DeliveryPage","constructor","modalController","apiService","toastController","router","cartService","cartProducts","selectedLocation","ngOnInit","onLocationChange","confirmDelivery","_this","_asyncToGenerator","lugarEntrega","orderData","info","lugar_entrega","detalles","map","product","boleta_vendedor","id_producto","createOrder","subscribe","_ref","response","console","log","toast","create","message","duration","position","present","dismiss","_x","apply","arguments","_ref2","error","status","navigate","_x2","clearCart","closeModal","ɵɵdirectiveInject","i1","ModalController","i2","ApiService","ToastController","i3","Router","i4","CartService","selectors","inputs","decls","vars","consts","template","DeliveryPage_Template","rf","ctx","DeliveryPage_Template_ion_select_ngModelChange_13_listener","ɵɵlistener","DeliveryPage_Template_ion_select_ionChange_13_listener","ɵɵtemplate","DeliveryPage_ion_item_30_Template","DeliveryPage_Template_ion_button_click_32_listener","DeliveryPage_Template_ion_button_click_34_listener","ɵɵproperty","HttpHeaders","HttpParams","of","throwError","catchError","environment","http","api","getHeaders","currentUser","JSON","parse","localStorage","getItem","token","login","username","password","url","body","boleta","post","observe","withCredentials","pipe","Error","logout","delete","headers","responseType","verifySession","get","products","getProducts","page","params","set","toString","searchProducts","query","productDetails","id","register","jsonData","getOrders","getSales","getInventory","updateOrderStatus","orderId","productId","newStatus","estado","patch","updateProduct","formData","createProduct","deleteProduct","updateProductAvailability","availability","disponibilidad","getProductImage","image","placeholder","backend_url","generic_url_seed","generic_url","ɵɵinject","HttpClient","factory","ɵfac","providedIn","BehaviorSubject","cartStatus","cartStatus$","asObservable","cartProducts$","setCartStatus","value","next","setCartProducts","getCartProducts","removeItem"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}