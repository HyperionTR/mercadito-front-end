"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6688],{6688:(P,d,t)=>{t.r(d),t.d(d,{LoginPageModule:()=>M});var m=t(177),s=t(4341),r=t(7863),l=t(8160),n=t(4438),p=t(3366),h=t(4796);const f=[{path:"",component:(()=>{var e;class a{constructor(o,i,c){this.apiService=o,this.router=i,this.authService=c}ngOnInit(){}onLogin(){this.apiService.login(this.username,this.password).subscribe(o=>{console.log("Respuesta de la API:",o),localStorage.setItem("currentUser",JSON.stringify(o));const i=localStorage.getItem("currentUser");null!==i&&(this.authService.setCurrentUser(JSON.parse(i)),this.authService.setLoggedIn(!0)),this.router.navigate(["/"])},o=>{401===o.status?this.router.navigate(["/login"]):console.error("Error al iniciar sesi\xf3n:",o)})}}return(e=a).\u0275fac=function(o){return new(o||e)(n.rXU(p.G),n.rXU(l.Ix),n.rXU(h.u))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-login"]],decls:20,vars:2,consts:[["color","light",1,"ion-padding"],["size","large","name","arrow-back","routerLink","/"],["size","large"],[3,"ngSubmit"],["color","light",1,"ion-no-padding"],["position","stacked"],["type","text","name","username","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["color","dark","shape","round","expand","block","type","submit"],["name","arrow-forward"]],template:function(o,i){1&o&&(n.j41(0,"ion-content",0),n.nrm(1,"br")(2,"ion-icon",1)(3,"br"),n.j41(4,"h2",2)(5,"b"),n.EFF(6,"Iniciar sesi\xf3n"),n.k0s()(),n.j41(7,"form",3),n.bIt("ngSubmit",function(){return i.onLogin()}),n.j41(8,"ion-item",4)(9,"ion-label",5),n.EFF(10,"Boleta*"),n.k0s(),n.j41(11,"ion-input",6),n.mxI("ngModelChange",function(g){return n.DH7(i.username,g)||(i.username=g),g}),n.k0s()(),n.j41(12,"ion-item",4)(13,"ion-label",5),n.EFF(14,"Contrase\xf1a*"),n.k0s(),n.j41(15,"ion-input",7),n.mxI("ngModelChange",function(g){return n.DH7(i.password,g)||(i.password=g),g}),n.k0s()(),n.nrm(16,"br"),n.j41(17,"ion-button",8),n.EFF(18," Iniciar sesion \xa0"),n.nrm(19,"ion-icon",9),n.k0s()()()),2&o&&(n.R7$(11),n.R50("ngModel",i.username),n.R7$(4),n.R50("ngModel",i.password))},dependencies:[s.qT,s.BC,s.cb,s.YS,s.vS,s.cV,r.Jm,r.W9,r.iq,r.$w,r.uz,r.he,r.Gw,r.N7,l.Wk],styles:["ion-button[_ngcontent-%COMP%]{font-size:16px}"]}),a})()}];let L=(()=>{var e;class a{}return(e=a).\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[l.iI.forChild(f),l.iI]}),a})(),M=(()=>{var e;class a{}return(e=a).\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[m.MD,s.YN,r.bv,L]}),a})()}}]);